<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Android Image Cropper by ArthurHub</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Android Image Cropper</h1>
      <h2 class="project-tagline">Image Cropping Library for Android, optimized for Camera / Gallery.</h2>
      <a href="https://github.com/ArthurHub/Android-Image-Cropper" class="btn">View on GitHub</a>
      <a href="https://github.com/ArthurHub/Android-Image-Cropper/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/ArthurHub/Android-Image-Cropper/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="android-image-cropper" class="anchor" href="#android-image-cropper" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Android Image Cropper</h1>

<p><a href="https://android-arsenal.com/details/1/3487"><img src="https://img.shields.io/badge/Android%20Arsenal-Android--Image--Cropper-green.svg?style=true" alt="Android Arsenal"></a>
<a href="https://bintray.com/arthurhub/maven/Android-Image-Cropper/_latestVersion"> <img src="https://api.bintray.com/packages/arthurhub/maven/Android-Image-Cropper/images/download.svg" alt="Download"> </a></p>

<p><strong>Powerful</strong> (Zoom, Rotation, Multi-Source), <strong>customizable</strong> (Shape, Limits, Style), <strong>optimized</strong> (Async, Sampling, Matrix) and <strong>simple</strong> image cropping library for Android.</p>

<p><img src="https://github.com/ArthurHub/Android-Image-Cropper/blob/master/art/demo.gif?raw=true" alt="Crop"></p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<p><em>For a working implementation, please have a look at the Sample Project</em></p>

<p><a href="https://github.com/ArthurHub/Android-Image-Cropper/wiki">See GitHub Wiki for more info.</a></p>

<p>Include the library</p>

<pre><code> compile 'com.theartofdev.edmodo:android-image-cropper:2.3.+'
</code></pre>

<h3>
<a id="using-activity" class="anchor" href="#using-activity" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Using Activity</h3>

<ol>
<li>
<p>Add <code>CropImageActivity</code> into your AndroidManifest.xml</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">activity</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>com.theartofdev.edmodo.cropper.CropImageActivity<span class="pl-pds">"</span></span>
   <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">theme</span>=<span class="pl-s"><span class="pl-pds">"</span>@style/Base.Theme.AppCompat<span class="pl-pds">"</span></span>/&gt; <span class="pl-c">&lt;!-- optional (needed if default theme has no action bar) --&gt;</span></pre></div>
</li>
<li>
<p>Start <code>CropImageActivity</code> using builder pattern from your activity</p>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">CropImage</span><span class="pl-k">.</span>activity(imageUri)
  .setGuidelines(<span class="pl-smi">CropImageView</span><span class="pl-k">.</span><span class="pl-smi">Guidelines</span><span class="pl-c1"><span class="pl-k">.</span>ON</span>)
  .start(<span class="pl-v">this</span>);

<span class="pl-c">// for fragment (DO NOT use `getActivity()`)</span>
<span class="pl-smi">CropImage</span><span class="pl-k">.</span>activity(imageUri)
   .start(getContext(), <span class="pl-v">this</span>);</pre></div>
</li>
<li>
<p>Override <code>onActivityResult</code> method in your activity to get crop result</p>

<div class="highlight highlight-source-java"><pre>@<span class="pl-smi">Override</span>
<span class="pl-k">public</span> <span class="pl-k">void</span> onActivityResult(<span class="pl-k">int</span> requestCode, <span class="pl-k">int</span> resultCode, <span class="pl-smi">Intent</span> data) {
   <span class="pl-k">if</span> (requestCode <span class="pl-k">==</span> <span class="pl-smi">CropImage</span><span class="pl-c1"><span class="pl-k">.</span>CROP_IMAGE_ACTIVITY_REQUEST_CODE</span>) {
       <span class="pl-smi">CropImage</span><span class="pl-k">.</span><span class="pl-smi">ActivityResult</span> result <span class="pl-k">=</span> <span class="pl-smi">CropImage</span><span class="pl-k">.</span>getActivityResult(data);
       <span class="pl-k">if</span> (resultCode <span class="pl-k">==</span> <span class="pl-c1">RESULT_OK</span>) {
           <span class="pl-smi">Uri</span> resultUri <span class="pl-k">=</span> result<span class="pl-k">.</span>getUri();
       } <span class="pl-k">else</span> <span class="pl-k">if</span> (resultCode <span class="pl-k">==</span> <span class="pl-smi">CropImage</span><span class="pl-c1"><span class="pl-k">.</span>CROP_IMAGE_ACTIVITY_RESULT_ERROR_CODE</span>) {
           <span class="pl-smi">Exception</span> error <span class="pl-k">=</span> result<span class="pl-k">.</span>getError();
       }
   }
}</pre></div>
</li>
</ol>

<h3>
<a id="using-view" class="anchor" href="#using-view" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Using View</h3>

<ol>
<li>
<p>Add <code>CropImageView</code> into your activity</p>

<div class="highlight highlight-text-xml"><pre><span class="pl-c">&lt;!-- Image Cropper fill the remaining available height --&gt;</span>
&lt;<span class="pl-ent">com</span>.theartofdev.edmodo.cropper.CropImageView
  <span class="pl-e">xmlns</span><span class="pl-e">:</span><span class="pl-e">custom</span>=<span class="pl-s"><span class="pl-pds">"</span>http://schemas.android.com/apk/res-auto<span class="pl-pds">"</span></span>
  <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>@+id/cropImageView<span class="pl-pds">"</span></span>
  <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">layout_width</span>=<span class="pl-s"><span class="pl-pds">"</span>match_parent<span class="pl-pds">"</span></span>
  <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">layout_height</span>=<span class="pl-s"><span class="pl-pds">"</span>0dp<span class="pl-pds">"</span></span>
  <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">layout_weight</span>=<span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>/&gt;</pre></div>
</li>
<li>
<p>Set image to crop</p>

<div class="highlight highlight-source-java"><pre>cropImageView<span class="pl-k">.</span>setImageBitmap(bitmap);
<span class="pl-c">// or</span>
cropImageView<span class="pl-k">.</span>setImageUriAsync(uri);</pre></div>
</li>
<li>
<p>Get cropped image</p>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">Bitmap</span> cropped <span class="pl-k">=</span> cropImageView<span class="pl-k">.</span>getCroppedImage();
<span class="pl-c">// or (must subscribe to async event using cropImageView.setOnCropImageCompleteListener(listener))</span>
cropImageView<span class="pl-k">.</span>getCroppedImageAsync();</pre></div>
</li>
</ol>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h2>

<ul>
<li>Built-in <code>CropImageActivity</code>.</li>
<li>Set cropping image as Bitmap, Resource or Android URI (Gallery, Camera, Dropbox, etc.).</li>
<li>Image rotation during cropping.</li>
<li>Auto zoom-in/out to relevant cropping area.</li>
<li>Auto rotate bitmap by image Exif data.</li>
<li>Set result image min/max limits in pixels.</li>
<li>Set initial crop window size/location.</li>
<li>Request cropped image resize to specific size.</li>
<li>Bitmap memory optimization, OOM handling (should never occur)!</li>
<li>API Level 10.</li>
<li>More..</li>
</ul>

<h2>
<a id="customizations" class="anchor" href="#customizations" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Customizations</h2>

<ul>
<li>Cropping window shape: Rectangular or Oval (cube/circle by fixing aspect ratio).</li>
<li>Cropping window aspect ratio: Free, 1:1, 4:3, 16:9 or Custom.</li>
<li>Guidelines appearance: Off / Always On / Show on Toch.</li>
<li>Cropping window Border line, border corner and guidelines thickness and color.</li>
<li>Cropping background color.</li>
</ul>

<p>For more information, see the <a href="https://github.com/ArthurHub/Android-Image-Cropper/wiki">GitHub Wiki</a>. </p>

<h2>
<a id="posts" class="anchor" href="#posts" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Posts</h2>

<ul>
<li><a href="http://theartofdev.com/2015/02/15/android-cropping-image-from-camera-or-gallery/">Android cropping image from camera or gallery</a></li>
<li><a href="http://theartofdev.com/2016/01/15/android-image-cropper-async-support-and-custom-progress-ui/">Android Image Cropper async support and custom progress UI</a></li>
<li><a href="https://theartofdev.com/2016/04/25/adding-auto-zoom-feature-to-android-image-cropper/">Adding auto-zoom feature to Android-Image-Cropper</a></li>
</ul>

<h2>
<a id="change-log" class="anchor" href="#change-log" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Change log</h2>

<p><em>2.3.0</em></p>

<ul>
<li>Change required width/height behavior to support resizing (inside/fit/exact) see wiki for details.</li>
<li>Add sampling fallback to lower cropped image resolution on OOM error (if image loaded from URI).</li>
<li>Setting aspect ratio will also set it to fixed, to help with confusion, add clear aspect ratio method.</li>
<li>Add support for setting min/max crop result size in code on CropImageView.</li>
<li>Fix cropping failing bug when skia fails region cropping.</li>
<li>Add Fallback to Intent.ACTION_PICK if no intent found for Intent.ACTION_GET_CONTENT (thx geolyth)</li>
<li>Multi touch support for cropping window (experimental, thx bbwharris)</li>
<li>
<strong>BREAKING CHANGES</strong>:

<ul>
<li>If you previously used requested width/height the default behavior now is to resize inside the cropped image, to preserve the previous behavior you need to pass the SAMPLING option.</li>
<li>
<code>OnGetCroppedImageCompleteListener</code> and <code>OnSaveCroppedImageCompleteListener</code> is deprecated, use <code>OnCropImageCompleteListener</code> that combines the two and provides the result object as crop activity.</li>
<li>Set aspect ratio also sets fixed aspect ratio to true, if this is not the desired behavior set the fix aspect ratio flag manually or call the method after calling set aspect ratio.</li>
</ul>
</li>
</ul>

<p><em>2.2.5</em></p>

<ul>
<li>Fix to webp file extension (thx Nathan)</li>
<li>Fix wrong initial crop window when image contains exif data.</li>
<li>Added corners to circular crop window, can be removed by setting <code>BorderCornerThickness</code> to 0.</li>
</ul>

<p>See <a href="https://github.com/ArthurHub/Android-Image-Cropper/wiki/Change-Log">full change log</a>.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>Originally forked from <a href="https://github.com/edmodo/cropper">edmodo/cropper</a>.</p>

<p>Copyright 2016, Arthur Teplitzki, 2013, Edmodo, Inc.</p>

<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this work except in compliance with the   License.
You may obtain a copy of the License in the LICENSE file, or at:</p>

<p><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>

<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS   IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/ArthurHub/Android-Image-Cropper">Android Image Cropper</a> is maintained by <a href="https://github.com/ArthurHub">ArthurHub</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-52577707-4");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
